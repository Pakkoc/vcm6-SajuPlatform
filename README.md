# Saju맛피아

> AI 기반 사주 분석 서비스 포트폴리오 프로젝트

## 프로젝트 소개

**Saju맛피아**는 Google Gemini AI를 활용한 온라인 사주 분석 서비스입니다. 사용자는 간단한 정보 입력만으로 AI 기반의 정확한 사주 분석을 받을 수 있으며, 모든 분석 내역은 영구 보관되어 언제든지 다시 확인할 수 있습니다.

전통적인 명리학 지식을 현대적인 AI 기술과 결합하여, 누구나 쉽게 접근할 수 있는 사주 분석 플랫폼을 제공합니다.

## 핵심 가치 제안

### 🤖 AI 기반 정확한 분석
Google Gemini AI가 명리학 원리를 기반으로 정확하게 분석합니다. Free 플랜은 `gemini-2.5-flash`를, Pro 플랜은 `gemini-2.5-pro`를 사용하여 더욱 상세한 분석 결과를 제공합니다.

### 💰 합리적인 가격
무료 체험 1회를 제공하여 서비스를 먼저 경험해볼 수 있습니다. Pro 요금제는 월 3,900원으로 월 10회의 분석이 가능합니다.

### 📁 검사 내역 영구 보관
모든 분석 결과를 대시보드에 저장하여 언제든지 다시 확인할 수 있습니다. 과거 분석 내역을 검색하고 비교하여 시간에 따른 변화를 추적할 수 있습니다.

## 주요 기능

### 사용자 인증 및 관리
- **Clerk 기반 소셜 로그인**: Google OAuth를 통한 간편한 회원가입 및 로그인
- **자동 사용자 프로필 생성**: Webhook을 통한 실시간 데이터베이스 동기화
- **세션 관리**: 안전하고 편리한 세션 유지 및 갱신

### 사주 분석 시스템
- **AI 기반 분석**: Google Gemini API를 활용한 명리학 기반 사주팔자 분석
- **다양한 분석 항목**: 성격, 재물운, 애정운, 건강운 등 종합적인 운세 분석
- **사용자 맞춤 입력**: 이름, 생년월일, 출생시간(선택), 성별 등 간단한 정보만으로 분석 가능

### 구독 및 결제 시스템
- **Freemium 모델**: Free 플랜과 Pro 플랜 제공
- **토스페이먼츠 정기결제**: 빌링키 기반 자동 결제 시스템
- **구독 관리**: 실시간 구독 상태 확인 및 업그레이드/해지 기능

### 대시보드 및 내용 관리
- **분석 내역 관리**: 모든 분석 결과를 카드 형태로 한눈에 확인
- **검색 기능**: 이름을 통한 빠른 분석 내역 검색
- **상세 분석 보기**: 마크다운 형식의 상세한 분석 결과 확인

## 기술 스택

### Frontend
- **Next.js 16** (App Router): 최신 React 프레임워크를 활용한 서버 사이드 렌더링
- **React 18**: 선언적 UI 라이브러리
- **TypeScript**: 타입 안정성을 통한 안정적인 개발
- **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크
- **shadcn-ui**: 접근성을 고려한 UI 컴포넌트 라이브러리
- **React Query**: 효율적인 서버 상태 관리
- **React Hook Form**: 폼 검증 및 상태 관리

### Backend
- **Next.js API Routes**: 서버리스 API 엔드포인트
- **Hono**: 빠르고 가벼운 웹 프레임워크
- **Zod**: 스키마 검증 및 타입 안정성

### Database & Infrastructure
- **Supabase**: PostgreSQL 기반 백엔드 서비스
- **Supabase Cron**: 정기 결제 갱신 및 구독 상태 관리

### External Services
- **Clerk**: 인증 및 사용자 관리 플랫폼
- **Google Gemini API**: AI 기반 사주 분석 엔진
- **토스페이먼츠**: 정기결제 시스템

## 아키텍처 특징

### 확장 가능한 구조
- **Feature 기반 폴더 구조**: 기능별로 독립적인 모듈로 구성
- **관심사의 분리**: Backend, Frontend, 공통 유틸이 명확히 분리되어 유지보수성 향상

### 타입 안정성
- **End-to-End 타입 안정성**: Zod 스키마를 통한 API 요청/응답 타입 검증
- **공유 가능한 타입 정의**: 프론트엔드와 백엔드 간 타입 일관성 유지

### 에러 처리 및 로깅
- **중앙화된 에러 처리**: 공통 에러 바운더리를 통한 일관된 에러 응답
- **구조화된 로깅**: 요청별 컨텍스트 로깅 시스템

## 비즈니스 모델

### Free 플랜
- 최초 1회 무료 분석 제공
- `gemini-2.5-flash` 모델 사용
- 분석 내역 영구 보관
- 기본 분석 결과 제공

### Pro 플랜
- 월 3,900원 정기결제
- 월 10회 분석 가능
- `gemini-2.5-pro` 모델 사용
- 상세 분석 결과 제공
- 분석 내역 영구 보관

## 프로젝트 목적

이 프로젝트는 **바이브코딩의 포트폴리오 프로젝트**로서, 다음과 같은 기술 역량을 보여줍니다:

- **풀스택 개발 능력**: 프론트엔드부터 백엔드, 데이터베이스까지 전 영역 개발
- **최신 기술 스택 활용**: Next.js 16, TypeScript, Supabase 등 현대적인 기술 스택 사용
- **서드파티 서비스 통합**: Clerk, 토스페이먼츠, Google Gemini API 등 다양한 외부 서비스 연동 경험
- **확장 가능한 아키텍처 설계**: Feature 기반 구조와 관심사의 분리를 통한 유지보수 가능한 코드 설계
- **실제 서비스 수준의 개발**: 인증, 결제, AI 분석 등 실제 서비스에서 필요한 핵심 기능 구현

## 개선 사항 및 부족한 점

### 토스페이먼츠 정기결제 연동
현재 토스페이먼츠 정기결제 시스템의 연동이 완전히 완료되지 않은 상태입니다. 다음 항목들이 개선이 필요합니다:

- **빌링키 발급 및 결제 승인**: 프론트엔드 위젯 연동 및 서버 사이드 API 호출 흐름의 안정화가 필요합니다
- **정기결제 Cron Job**: Supabase Cron을 통한 매월 자동 결제 실행 로직의 검증 및 안정화가 필요합니다
- **결제 실패 처리**: 결제 실패 시 빌링키 삭제 및 구독 상태 변경 로직의 에러 핸들링 보완이 필요합니다
- **결제 위젯 UI/UX**: 사용자 경험 개선을 위한 결제 위젯 렌더링 및 에러 메시지 표시 개선이 필요합니다

이러한 개선 사항들은 실제 서비스 오픈 전에 충분한 테스트와 검증이 필요한 부분입니다.

---

**참고**: 이 프로젝트는 실제 서비스가 아닌 개인 프로젝트입니다.